import{r as d,f as u,a as m,u as x,s as l,j as e,C as f,L as p,p as v}from"./index-x4Ma9uTE.js";import{B as i}from"./Button-CBV9p-Sf.js";function N(){const[s,c]=d.useState(null),{slug:r}=u(),t=m(),o=x(a=>a.auth.userData),n=s&&o?s.userId===o.$id:!1,h=()=>{l.deletePost(s.$id).then(a=>{a&&(l.deleteFile(s.featuredImage),t("/"))})};return d.useEffect(()=>{r&&l.getPost(r).then(a=>{if(a){const g=JSON.parse(a.featuredImage);a.featuredImage=g.url,c(a)}else t("/")})},[r,t]),s?e.jsx("div",{className:"py-8",children:e.jsxs(f,{children:[e.jsxs("div",{className:"w-full mb-4 border rounded-xl p-2 shadow-lg shadow-gray-500",children:[e.jsx("div",{className:"rounded-xl overflow-hidden",children:e.jsx("img",{src:s.featuredImage,alt:s.title,className:"w-full h-[640px]"})}),n&&e.jsxs("div",{className:"my-2 flex",children:[e.jsx(p,{to:`/edit-post/${s.$id}`,children:e.jsxs(i,{bgColor:"bg-green-500",className:"hover:shadow-lg hover:shadow-gray-500 hover:opacity-80 h-15 mr-5",children:[e.jsx("img",{src:"/React-Blog-App/images/edit.svg",alt:"edit"}),"Edit"]})}),e.jsxs(i,{bgColor:"bg-red-500",onClick:h,className:"hover:shadow-lg hover:shadow-gray-500 hover:opacity-80 h-15",children:[e.jsx("img",{src:"/React-Blog-App/images/delete.svg",alt:"delete"}),"Delete"]})]})]}),e.jsxs("div",{className:"w-full py-5 rounded-xl shadow-lg shadow-gray-500",children:[e.jsx("h1",{className:"text-2xl font-bold border-b-2 border-gray-300",children:s.title}),e.jsx("div",{className:"browser-css",children:v(s.content)})]})]})}):null}export{N as default};
